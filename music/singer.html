<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript" src="../js/common.js"></script>
		<script type="text/javascript" src="../js/jquery-1.11.2.min.js"></script>
	</head>

	<body>
		<div style="text-align: center;">
			<p><button type="button" onclick="login()">管理员登录</button></p>
			<form method="post" enctype="multipart/form-data" id="uploadForm">
				<p>
					<label>选择照片</label>
					<input type="file" name="photo" required="" accept=".png,.jpg,.jpeg,.gif" />
					<input type="hidden" name="singerName" value="谭咏麟" />
					<input type="hidden" name="singerExplain" value="香港伟大的歌手" />
					<!--<input type="hidden" name="singerId" value="b289135e-059b-11e7-8a6b-089e01b9991f" />-->
				</p>
				<p><button type="button" onclick="saveOrUpdate();">添加艺人</button></p>
				<p><button type="button" onclick="deleteByID();">删除艺人</button></p>
				<p><button type="button" onclick="getById();">获得艺人信息</button></p>
			</form>
		</div>
		<script type="text/javascript">
			function getById() {
				$.ajax({
					url: app_root + "/singer/getById",
					type: "post",
					data: {
						primaryKey: "cdeb16c2-059f-11e7-8a6b-089e01b9991f"
					},
					success: function(data) {
						console.info(JSON.stringify(data));
					},
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					dataType: "json"
				});
			}

			function deleteByID() {
				$.ajax({
					url: app_root + "/singer/deleteById",
					type: "post",
					data: {
						primaryKey: "b3866ebf-059f-11e7-8a6b-089e01b9991f"
					},
					success: function(data) {
						console.info(JSON.stringify(data));
					},
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					dataType: "json"
				});
			}

			function saveOrUpdate() {
				$.ajax({
					url: app_root + "/singer/saveOrUpdate",
					type: 'POST',
					cache: false,
					data: new FormData($('#uploadForm')[0]),
					processData: false,
					contentType: false,
					success: function(data) {
						console.info(JSON.stringify(data));
					},
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					dataType: "json"
				});
			}

			function login() {
				$.ajax({
					url: app_root + "/singer/login",
					type: "post",
					data: {
						username: "manager",
						password: "manager"
					},
					success: function(data) {
						console.info(JSON.stringify(data));
					},
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					dataType: "json"
				});
			}
		</script>
	</body>

</html>